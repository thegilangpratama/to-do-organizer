"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/lists";
exports.ids = ["pages/api/lists"];
exports.modules = {

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "(api)/./helpers/supabase.ts":
/*!*****************************!*\
  !*** ./helpers/supabase.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"@supabase/supabase-js\");\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst supabaseUrl = \"https://ayrtqhylxnysxfuhiuyi.supabase.co\";\nconst supabaseAnonKey = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImF5cnRxaHlseG55c3hmdWhpdXlpIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTcwMDg4NjM1MiwiZXhwIjoyMDE2NDYyMzUyfQ.N0Ghz-kRwBXDkcGaYpux34iCnmVovYiFmtQZB4-yYXg\";\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (supabase);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9oZWxwZXJzL3N1cGFiYXNlLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFxRDtBQUVyRCxNQUFNQyxXQUFXLEdBQUdDLDBDQUFvQztBQUN4RCxNQUFNRyxlQUFlLEdBQUdILDZOQUF5QztBQUNqRSxNQUFNSyxRQUFRLEdBQUdQLG1FQUFZLENBQUNDLFdBQVcsRUFBRUksZUFBZSxDQUFDO0FBRTNELGlFQUFlRSxRQUFRLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jaGFyY2VudHJpYy8uL2hlbHBlcnMvc3VwYWJhc2UudHM/NGQ4OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVDbGllbnQgfSBmcm9tIFwiQHN1cGFiYXNlL3N1cGFiYXNlLWpzXCI7XG5cbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMO1xuY29uc3Qgc3VwYWJhc2VBbm9uS2V5ID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVk7XG5jb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KTtcblxuZXhwb3J0IGRlZmF1bHQgc3VwYWJhc2U7XG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJzdXBhYmFzZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./helpers/supabase.ts\n");

/***/ }),

/***/ "(api)/./pages/api/lists/index.ts":
/*!**********************************!*\
  !*** ./pages/api/lists/index.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _helpers_supabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../helpers/supabase */ \"(api)/./helpers/supabase.ts\");\n\nconst handler = async (req, res)=>{\n    if (![\n        \"GET\",\n        \"POST\"\n    ].includes(req.method || \"\")) {\n        res.status(405).json({\n            message: \"Method not allowed.\"\n        });\n        return;\n    }\n    const token = req.cookies.access_token;\n    // Get all lists user has.\n    if (req.method === \"GET\") {\n        try {\n            const { error: userError  } = await _helpers_supabase__WEBPACK_IMPORTED_MODULE_0__[\"default\"].auth.api.getUser(token);\n            if (userError) {\n                throw userError;\n            }\n            const { board_id  } = req.query;\n            const { data: lists , error: listsError  } = await _helpers_supabase__WEBPACK_IMPORTED_MODULE_0__[\"default\"].from(\"lists\").select(\"*\").eq(\"board_id\", board_id).order(\"index\");\n            if (listsError) {\n                throw listsError;\n            }\n            res.status(200).json({\n                data: lists,\n                message: \"There are existing lists.\"\n            });\n        } catch (error) {\n            res.status(error.status).json({\n                message: error.message\n            });\n        }\n    }\n    // Create a new list for a user.\n    if (req.method === \"POST\") {\n        try {\n            const { error: userError  } = await _helpers_supabase__WEBPACK_IMPORTED_MODULE_0__[\"default\"].auth.api.getUser(token);\n            if (userError) {\n                throw userError;\n            }\n            const { title , board_id  } = req.body;\n            const { data: lists , error: listsError  } = await _helpers_supabase__WEBPACK_IMPORTED_MODULE_0__[\"default\"].from(\"lists\").select(\"*\").eq(\"board_id\", board_id);\n            if (listsError) {\n                throw listsError;\n            }\n            const { data: list , error: listError  } = await _helpers_supabase__WEBPACK_IMPORTED_MODULE_0__[\"default\"].from(\"lists\").insert([\n                {\n                    title,\n                    board_id,\n                    index: lists.length\n                }\n            ]).limit(1).single();\n            if (listError) {\n                throw listError;\n            }\n            res.status(200).json({\n                data: list,\n                message: \"List successfully created.\"\n            });\n        } catch (error) {\n            res.status(error.status).json({\n                message: error.message\n            });\n        }\n    }\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (handler);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUNSQyxNQUFNLEVBQUU7WUFFWCxJQUFJTCxTQUFTLEVBQUU7Z0JBQ2IsTUFBTUEsU0FBUyxDQUFDO2FBQ2pCO1lBRUQxQixHQUFHLENBQUNHLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO2dCQUNuQlksSUFBSSxFQUFFUyxJQUFJO2dCQUNWcEIsT0FBTyxFQUFFLDRCQUE0QjthQUN0QyxDQUFDLENBQUM7U0FDSixDQUFDLE9BQU9JLEtBQUssRUFBTztZQUNuQlQsR0FBRyxDQUFDRyxNQUFNLENBQUNNLEtBQUssQ0FBQ04sTUFBTSxDQUFDLENBQUNDLElBQUksQ0FBQztnQkFBRUMsT0FBTyxFQUFFSSxLQUFLLENBQUNKLE9BQU87YUFBRSxDQUFDLENBQUM7U0FDM0Q7S0FDRjtDQUNGO0FBRUQsaUVBQWVQLE9BQU8sRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NoYXJjZW50cmljLy4vcGFnZXMvYXBpL2xpc3RzL2luZGV4LnRzPzMyZjMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcblxuaW1wb3J0IHN1cGFiYXNlIGZyb20gXCIuLi8uLi8uLi9oZWxwZXJzL3N1cGFiYXNlXCI7XG5cbnR5cGUgQ29udGVudCA9IHtcbiAgZGF0YT86IGFueTtcbiAgbWVzc2FnZTogc3RyaW5nO1xufTtcblxuY29uc3QgaGFuZGxlciA9IGFzeW5jIChyZXE6IE5leHRBcGlSZXF1ZXN0LCByZXM6IE5leHRBcGlSZXNwb25zZTxDb250ZW50PikgPT4ge1xuICBpZiAoIVtcIkdFVFwiLCBcIlBPU1RcIl0uaW5jbHVkZXMocmVxLm1ldGhvZCB8fCBcIlwiKSkge1xuICAgIHJlcy5zdGF0dXMoNDA1KS5qc29uKHsgbWVzc2FnZTogXCJNZXRob2Qgbm90IGFsbG93ZWQuXCIgfSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy5hY2Nlc3NfdG9rZW47XG5cbiAgLy8gR2V0IGFsbCBsaXN0cyB1c2VyIGhhcy5cbiAgaWYgKHJlcS5tZXRob2QgPT09IFwiR0VUXCIpIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgeyBlcnJvcjogdXNlckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmFwaS5nZXRVc2VyKHRva2VuKTtcblxuICAgICAgaWYgKHVzZXJFcnJvcikge1xuICAgICAgICB0aHJvdyB1c2VyRXJyb3I7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHsgYm9hcmRfaWQgfSA9IHJlcS5xdWVyeSBhcyB7XG4gICAgICAgIGJvYXJkX2lkOiBzdHJpbmcgfCBudW1iZXI7XG4gICAgICB9O1xuXG4gICAgICBjb25zdCB7IGRhdGE6IGxpc3RzLCBlcnJvcjogbGlzdHNFcnJvciB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAgICAgLmZyb20oXCJsaXN0c1wiKVxuICAgICAgICAuc2VsZWN0KFwiKlwiKVxuICAgICAgICAuZXEoXCJib2FyZF9pZFwiLCBib2FyZF9pZClcbiAgICAgICAgLm9yZGVyKFwiaW5kZXhcIik7XG5cbiAgICAgIGlmIChsaXN0c0Vycm9yKSB7XG4gICAgICAgIHRocm93IGxpc3RzRXJyb3I7XG4gICAgICB9XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgZGF0YTogbGlzdHMsXG4gICAgICAgIG1lc3NhZ2U6IFwiVGhlcmUgYXJlIGV4aXN0aW5nIGxpc3RzLlwiLFxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgcmVzLnN0YXR1cyhlcnJvci5zdGF0dXMpLmpzb24oeyBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIENyZWF0ZSBhIG5ldyBsaXN0IGZvciBhIHVzZXIuXG4gIGlmIChyZXEubWV0aG9kID09PSBcIlBPU1RcIikge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IGVycm9yOiB1c2VyRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguYXBpLmdldFVzZXIodG9rZW4pO1xuXG4gICAgICBpZiAodXNlckVycm9yKSB7XG4gICAgICAgIHRocm93IHVzZXJFcnJvcjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyB0aXRsZSwgYm9hcmRfaWQgfSA9IHJlcS5ib2R5IGFzIHtcbiAgICAgICAgdGl0bGU6IHN0cmluZztcbiAgICAgICAgYm9hcmRfaWQ6IHN0cmluZyB8IG51bWJlcjtcbiAgICAgIH07XG5cbiAgICAgIGNvbnN0IHsgZGF0YTogbGlzdHMsIGVycm9yOiBsaXN0c0Vycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImxpc3RzXCIpXG4gICAgICAgIC5zZWxlY3QoXCIqXCIpXG4gICAgICAgIC5lcShcImJvYXJkX2lkXCIsIGJvYXJkX2lkKTtcblxuICAgICAgaWYgKGxpc3RzRXJyb3IpIHtcbiAgICAgICAgdGhyb3cgbGlzdHNFcnJvcjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgeyBkYXRhOiBsaXN0LCBlcnJvcjogbGlzdEVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgICAuZnJvbShcImxpc3RzXCIpXG4gICAgICAgIC5pbnNlcnQoW3sgdGl0bGUsIGJvYXJkX2lkLCBpbmRleDogbGlzdHMubGVuZ3RoIH1dKVxuICAgICAgICAubGltaXQoMSlcbiAgICAgICAgLnNpbmdsZSgpO1xuXG4gICAgICBpZiAobGlzdEVycm9yKSB7XG4gICAgICAgIHRocm93IGxpc3RFcnJvcjtcbiAgICAgIH1cblxuICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBkYXRhOiBsaXN0LFxuICAgICAgICBtZXNzYWdlOiBcIkxpc3Qgc3VjY2Vzc2Z1bGx5IGNyZWF0ZWQuXCIsXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICByZXMuc3RhdHVzKGVycm9yLnN0YXR1cykuanNvbih7IG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UgfSk7XG4gICAgfVxuICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBoYW5kbGVyO1xuIl0sIm5hbWVzIjpbInN1cGFiYXNlIiwiaGFuZGxlciIsInJlcSIsInJlcyIsImluY2x1ZGVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJ0b2tlbiIsImNvb2tpZXMiLCJhY2Nlc3NfdG9rZW4iLCJlcnJvciIsInVzZXJFcnJvciIsImF1dGgiLCJhcGkiLCJnZXRVc2VyIiwiYm9hcmRfaWQiLCJxdWVyeSIsImRhdGEiLCJsaXN0cyIsImxpc3RzRXJyb3IiLCJmcm9tIiwic2VsZWN0IiwiZXEiLCJvcmRlciIsInRpdGxlIiwiYm9keSIsImxpc3QiLCJsaXN0RXJyb3IiLCJpbnNlcnQiLCJpbmRleCIsImxlbmd0aCIsImxpbWl0Iiwic2luZ2xlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/lists/index.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/lists/index.ts"));
module.exports = __webpack_exports__;

})();